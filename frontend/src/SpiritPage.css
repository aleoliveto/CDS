:root{
  --orange:#ff6600;
  --grey-100:#f2f2f2;
  --text:#1d1d1d;
  --muted:#6a6a6a;
}

/* =========================
   CARD / BASE LAYOUT
   ========================= */
.spirit-container{
  box-sizing:border-box;
  width:min(1307px,96vw);
  margin:18px auto;
  border:8px solid var(--orange);
  background:#fff !important;
  color:var(--text) !important;
  font-family:"Segoe UI", Tahoma, sans-serif;
  /* never let content spill past the frame */
  padding-bottom:84px;
  overflow:hidden;
}

/* Toolbar */
.spirit-toolbar{
  display:flex; align-items:center; justify-content:space-between;
  gap:12px; padding:10px 18px 0;
}
.btn-toggle{
  appearance:none; background:var(--orange); color:#fff; border:none;
  border-radius:8px; padding:10px 14px; font-weight:800; cursor:pointer;
}
.btn-toggle:focus-visible{ outline:3px solid #2222; outline-offset:2px; }
.quiz-legend{ display:flex; gap:8px; align-items:center; }
.pill{ font-size:12px; padding:4px 8px; border-radius:999px; border:1px solid #ddd; }
.pill.correct{ background:#e8f7ea; color:#217a34; border-color:#bfe7c7; }
.pill.wrong{ background:#fdecec; color:#9b1b1b; border-color:#f7b5b5; }
.pill.neutral{ background:#f3f3f3; color:#666; }

/* =========================
   TOP (white)
   ========================= */
.spirit-header{
  display:grid;
  grid-template-columns: 320px 1fr 340px; /* chevron | priorities | bubble */
  gap:22px; align-items:start; padding:26px 26px 0 26px; min-height:360px;
}
.spirit-left{ position:relative; height:360px; }
.chevron{ position:absolute; inset:0; display:block; }
.purpose-text{ position:absolute; left:26px; top:108px; color:#fff !important; font-weight:800; line-height:1.28; }
.purpose-text h2{ margin:0 0 6px 0; font-size:24px; letter-spacing:.4px; }
.purpose-text p{ margin:0; font-size:22px; }

/* =========================
   PRIORITIES (poster-true grid, fluid)
   ========================= */
.spirit-priorities{ padding:0 2px; }
.section-title{
  color:var(--orange) !important; font-weight:900; letter-spacing:.3px;
  margin:0 0 12px; text-align:center; font-size:42px;
}
.priority-list{ display:grid; gap:30px; margin:0; padding:0; }

/* Fluid geometry:
   dot | dotted (min 170, max 260) | plane | answer (min 340, max 560)
   -> keeps layout centered but squeezes before overflow */
.priority-row{
  display:grid !important;
  grid-template-columns: 16px minmax(170px,260px) 52px minmax(340px,560px);
  align-items:center;
  column-gap:12px;
  position:relative;
}
.dot{
  width:14px; height:14px; border-radius:50%;
  border:2px solid var(--orange); flex:0 0 auto;
}

/* dotted rail fills its column; ends before plane */
.dotted-line{
  height:2px; position:relative; margin-left:6px; width:100%;
}
.dotted-line::before{
  content:""; position:absolute; left:0; right:0; top:50%; height:2px;
  transform:translateY(-50%);
  background-image:repeating-linear-gradient(
    90deg, var(--orange) 0, var(--orange) 2.6px, transparent 2.6px, transparent 10px
  );
}

/* plane badge */
.plane-icon{
  width:44px; height:44px; border-radius:50%;
  border:3px solid var(--orange); background:#fff;
  display:flex; align-items:center; justify-content:center;
  box-shadow:0 0 0 3px #fff;
  margin-left:0;
}
.plane-icon img{ width:20px; height:20px; display:block; }

/* label/select share same column */
.priority-label{
  display:block;
  font-weight:900; font-size:20px; color:#333 !important;
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
}
.quiz-row select.priority-select{
  width:100%; min-width:0; margin:0;
  padding:10px 12px; border:2px solid #ddd; border-radius:10px;
  font-weight:700; color:#333; background:#fff;
}
.quiz-row.correct select{ border-color:#3fbf64; background:#f3fbf6; }
.quiz-row.wrong   select{ border-color:#ff6b6b; background:#fff6f6; }
.quiz-row.neutral select{ border-color:#ddd;     background:#fff;   }
.priority-select:focus-visible{
  outline:3px solid color-mix(in oklab, var(--orange) 35%, white);
  outline-offset:2px;
}

/* =========================
   DESTINATION
   ========================= */
.spirit-destination{ text-align:center; padding-top:2px; }
.destination-circle{
  width:clamp(200px, 20vw, 256px);
  height:clamp(200px, 20vw, 256px);
  margin:6px auto 0; border-radius:50%;
  background:var(--orange); color:#fff !important; display:grid; place-items:center;
  text-align:center; font-weight:900; line-height:1.36; font-size:18px; padding:14px 18px;
}

/* =========================
   FOOTER (grey)
   ========================= */
.spirit-footer{
  position:relative; margin-top:16px; background:var(--grey-100) !important;
  padding:18px 26px 36px;
}
.spirit-footer::before{
  content:""; position:absolute; left:10px; top:-8px; width:14px; height:14px; background:#fff; transform:rotate(45deg);
}
.footer-header{
  display:grid; grid-template-columns: 1fr auto 1fr; align-items:baseline;
  font-size:18px; color:var(--muted) !important; margin-bottom:10px;
}
.footer-header span:first-child{ justify-self:start; }
.footer-header span:last-child{ justify-self:end; }
.footer-header h2{
  color:var(--orange) !important; font-size:38px; font-weight:900; margin:0; letter-spacing:.2px; justify-self:center;
}

/* ===== “BE ORANGE” as a box (matches other value boxes) ===== */
/* Keep legacy pill style around (view builds using it), but you can ignore it */
.orange-core{
  display:block; width:max-content; border:2px solid var(--orange); background:#f1f1f1;
  padding:8px 16px; margin:10px auto 20px; color:#7b7b7b !important; font-weight:800; font-size:18px;
}

.orange-core-wrap{ display:flex; justify-content:center; }

/* the box wrapper itself */
.orange-core-box{
  background:#fff !important;
  border:2px solid var(--orange);
  text-align:center;
  padding:16px 14px 18px;
  width:min(560px, 90%);
  margin:10px auto 20px;
}
.orange-core-box h3{
  margin:0 0 6px 0;
  color:var(--orange) !important;
  font-size:20px;
  font-weight:900;
  text-transform:uppercase;
  letter-spacing:.2px;
}

/* the select inside the box (quiz mode) */
.orange-core-select{
  width:100%;
  max-width:100%;
  padding:10px 12px;
  border:2px solid #ddd;
  border-radius:10px;
  font-weight:800;
  font-size:18px;
  background:#fff;
  color:#333;
}
.orange-core-box.correct .orange-core-select{ border-color:#3fbf64; background:#f3fbf6; }
.orange-core-box.wrong   .orange-core-select{ border-color:#ff6b6b; background:#fff6f6; }
.orange-core-box.neutral .orange-core-select{ border-color:#ddd;     background:#fff;   }
.orange-core-select:focus-visible{
  outline:3px solid color-mix(in oklab, var(--orange) 35%, white);
  outline-offset:2px;
}

/* Values */
.value-grid{ display:grid; grid-template-columns: repeat(4, 1fr); gap:16px; margin-top:8px; }
.value-box{ background:#fff !important; border:2px solid var(--orange); text-align:center; padding:16px 14px 18px; }
.value-box h3{ margin:0 0 6px 0; color:var(--orange) !important; font-size:20px; font-weight:900; text-transform:uppercase; letter-spacing:.2px; }
.value-box p{ margin:0; font-size:16px; color:#333 !important; }

/* value selects in quiz */
.value-select{
  width:100%; padding:10px 12px; border:2px solid #ddd; border-radius:10px;
  font-weight:700; color:#333; background:#fff;
}
.value-box.correct .value-select{ border-color:#3fbf64; background:#f3fbf6; }
.value-box.wrong   .value-select{ border-color:#ff6b6b; background:#fff6f6; }
.value-box.neutral .value-select{ border-color:#ddd;     background:#fff;   }
.value-select:focus-visible{
  outline:3px solid color-mix(in oklab, var(--orange) 35%, white);
  outline-offset:2px;
}

/* quiz buttons & score */
.quiz-controls{ display:flex; align-items:center; gap:12px; margin-top:16px; margin-bottom:0; padding-bottom:4px; flex-wrap:wrap; }
.btn-primary,.btn-secondary{ appearance:none; border-radius:8px; padding:10px 14px; font-weight:800; cursor:pointer; border:2px solid transparent; }
.btn-primary{ background:var(--orange); color:#fff; }
.btn-secondary{ background:#fff; color:#333; border-color:#ddd; }
.btn-primary:disabled{ opacity:.6; cursor:not-allowed; }
.quiz-score{ margin-left:auto; font-weight:800; }

/* a11y helper */
.sr-only{ position:absolute; width:1px;height:1px; overflow:hidden; clip:rect(0 0 0 0); white-space:nowrap; border:0; padding:0; margin:-1px; }

/* =========================
   RESPONSIVE
   ========================= */
/* Tighten before overflow happens on mid-width screens */
@media (max-width:1400px){
  .priority-row{
    grid-template-columns: 16px minmax(150px,220px) 52px minmax(320px,520px);
  }
  .destination-circle{
    width:clamp(200px, 19vw, 230px);
    height:clamp(200px, 19vw, 230px);
  }
}

/* Stack columns on tablets */
@media (max-width:980px){
  .spirit-header{ grid-template-columns:1fr; min-height:auto; }
  .spirit-left{ height:240px; }
  .purpose-text{ top:78px; }
  .value-grid{ grid-template-columns:1fr 1fr; }
}

/* Single column values on phones */
@media (max-width:560px){
  .value-grid{ grid-template-columns:1fr; }
}
