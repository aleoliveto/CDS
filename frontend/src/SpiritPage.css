/* =========================
   NAMESPACED STYLES ONLY
   ========================= */
.spirit-container {
  /* local tokens so we don't leak to the site */
  --sp-orange: #ff6600;
  --sp-grey100: #f2f2f2;
  --sp-text: #1d1d1d;
  --sp-muted: #6a6a6a;

  box-sizing: border-box;
  width: min(1307px, 96vw);
  margin: 18px auto;
  border: 8px solid var(--sp-orange);
  background: #fff;          /* force white card (no dark-theme bleed) */
  color: var(--sp-text);
  font-family: "Segoe UI", Tahoma, sans-serif;
  padding-bottom: 84px;       /* keep inside the frame */
  overflow: hidden;           /* hide stray focus rings */
}

/* ===== toolbar ===== */
.spirit-container .sp-toolbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  padding: 10px 18px 0;
}
.spirit-container .sp-btn {
  appearance: none;
  background: var(--sp-orange);
  color: #fff;
  border: 0;
  border-radius: 8px;
  padding: 10px 14px;
  font-weight: 800;
  cursor: pointer;
}
.spirit-container .sp-btn:focus-visible { outline: 3px solid #0002; outline-offset: 2px; }

.spirit-container .sp-legend { display: flex; gap: 8px; align-items: center; }
.spirit-container .sp-pill {
  font-size: 12px; padding: 4px 8px; border-radius: 999px; border: 1px solid #ddd;
}
.spirit-container .sp-pill.sp-ok { background:#e8f7ea; color:#217a34; border-color:#bfe7c7; }
.spirit-container .sp-pill.sp-bad { background:#fdecec; color:#9b1b1b; border-color:#f7b5b5; }
.spirit-container .sp-pill.sp-neutral { background:#f3f3f3; color:#666; }

/* ===== top (white area) ===== */
.spirit-container .sp-header {
  display: grid;
  grid-template-columns: 320px 1fr 280px; /* right column narrower to avoid clip */
  gap: 22px;
  align-items: start;
  padding: 26px 26px 0 26px;
  min-height: 360px;
}

.spirit-container .sp-left { position: relative; height: 360px; }
.spirit-container .sp-chevron { position:absolute; inset:0; display:block; }
.spirit-container .sp-purpose {
  position: absolute; left: 26px; top: 108px;
  color: #fff; font-weight: 800; line-height: 1.28;
}
.spirit-container .sp-purpose h2 { margin: 0 0 6px; font-size: 24px; letter-spacing: .4px; }
.spirit-container .sp-purpose p  { margin: 0; font-size: 22px; }

/* ===== priorities ===== */
.spirit-container .sp-prior { padding: 0 2px; }
.spirit-container .sp-title {
  color: var(--sp-orange);
  font-weight: 900;
  letter-spacing: .3px;
  margin: 0 0 12px;
  text-align: center;
  font-size: 42px;
}

.spirit-container .sp-list { display: grid; gap: 30px; margin: 0; padding: 0; list-style: none; }

/* fluid poster layout:
   dot | dotted (170–260) | plane (52) | answer (340–560) */
.spirit-container .sp-row {
  display: grid;
  grid-template-columns: 16px minmax(170px,260px) 52px minmax(340px,560px);
  align-items: center;
  column-gap: 12px;
}

.spirit-container .sp-dot {
  width: 14px; height: 14px; border-radius: 50%;
  border: 2px solid var(--sp-orange);
}

.spirit-container .sp-rail {
  height: 2px; position: relative; margin-left: 6px; width: 100%;
}
.spirit-container .sp-rail::before {
  content: ""; position: absolute; left: 0; right: 0; top: 50%; height: 2px;
  transform: translateY(-50%);
  background-image: repeating-linear-gradient(
    90deg, var(--sp-orange) 0, var(--sp-orange) 2.6px, transparent 2.6px, transparent 10px
  );
}

.spirit-container .sp-plane {
  width: 44px; height: 44px; border-radius: 50%;
  border: 3px solid var(--sp-orange); background: #fff;
  display: flex; align-items: center; justify-content: center;
  box-shadow: 0 0 0 3px #fff;
}
.spirit-container .sp-plane img { width: 20px; height: 20px; display:block; }

/* label/select share the same column */
.spirit-container .sp-label {
  font-weight: 600;  /* << not bold */
  font-size: 20px;
  color: #333;
  white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
}

.spirit-container .sp-select {
  width: 100%; min-width: 0; margin: 0;
  padding: 10px 12px; border: 2px solid #ddd; border-radius: 10px;
  font-weight: 700; color: #333; background: #fff;
}
.spirit-container .sp-row.sp-correct  .sp-select { border-color:#3fbf64; background:#f3fbf6; }
.spirit-container .sp-row.sp-wrong    .sp-select { border-color:#ff6b6b; background:#fff6f6; }
.spirit-container .sp-row.sp-neutral  .sp-select { border-color:#ddd;     background:#fff;   }
.spirit-container .sp-select:focus-visible {
  outline: 3px solid color-mix(in oklab, var(--sp-orange) 35%, #fff);
  outline-offset: 2px;
}

/* ===== destination ===== */
.spirit-container .sp-dest { text-align: center; padding-top: 2px; }
.spirit-container .sp-bubble {
  width: clamp(180px, 18vw, 230px);
  height: clamp(180px, 18vw, 230px);
  margin: 6px auto 0;
  border-radius: 50%;
  background: var(--sp-orange);
  color: #fff;
  display: grid; place-items: center;
  text-align: center; font-weight: 900; line-height: 1.36; font-size: 18px;
  padding: 14px 18px;
}

/* ===== footer (grey area) ===== */
.spirit-container .sp-footer {
  position: relative;
  margin-top: 16px;
  background: var(--sp-grey100);
  padding: 18px 26px 36px;
}
.spirit-container .sp-footer::before {
  content: ""; position: absolute; left: 10px; top: -8px;
  width: 14px; height: 14px; background: #fff; transform: rotate(45deg);
}

.spirit-container .sp-footbar {
  display: grid; grid-template-columns: 1fr auto 1fr;
  align-items: baseline;
  font-size: 18px; color: var(--sp-muted);
  margin-bottom: 10px;
}
.spirit-container .sp-footbar h2 {
  color: var(--sp-orange); font-size: 38px; font-weight: 900; margin: 0; letter-spacing: .2px;
  justify-self: center;
}
.spirit-container .sp-leftcap { justify-self: start; }
.spirit-container .sp-rightcap{ justify-self: end; }

/* BE ORANGE box (matches value boxes in quiz mode) */
.spirit-container .sp-corewrap { display: flex; justify-content: center; }
.spirit-container .sp-corebox {
  background: #fff; border: 2px solid var(--sp-orange);
  text-align: center; padding: 16px 14px 18px;
  width: min(560px, 90%); margin: 10px auto 20px;
}
.spirit-container .sp-corebox h3 {
  margin: 0 0 6px; color: var(--sp-orange); font-size: 20px; font-weight: 900; text-transform: uppercase;
}
.spirit-container .sp-corebox .sp-select { font-weight: 800; font-size: 18px; }
.spirit-container .sp-corebox.sp-correct .sp-select { border-color:#3fbf64; background:#f3fbf6; }
.spirit-container .sp-corebox.sp-wrong   .sp-select { border-color:#ff6b6b; background:#fff6f6; }
.spirit-container .sp-corebox.sp-neutral .sp-select { border-color:#ddd;     background:#fff;   }

/* value boxes */
.spirit-container .sp-values { display: grid; grid-template-columns: repeat(4, 1fr); gap: 16px; margin-top: 8px; }
.spirit-container .sp-vbox {
  background: #fff; border: 2px solid var(--sp-orange);
  text-align: center; padding: 16px 14px 18px;
}
.spirit-container .sp-vbox h3 {
  margin: 0 0 6px; color: var(--sp-orange); font-size: 20px; font-weight: 900; text-transform: uppercase;
}
.spirit-container .sp-vbox p { margin: 0; font-size: 16px; color: #333; }
.spirit-container .sp-vbox .sp-select { width: 100%; font-weight: 700; }
.spirit-container .sp-vbox.sp-correct .sp-select { border-color:#3fbf64; background:#f3fbf6; }
.spirit-container .sp-vbox.sp-wrong   .sp-select { border-color:#ff6b6b; background:#fff6f6; }
.spirit-container .sp-vbox.sp-neutral .sp-select { border-color:#ddd;     background:#fff;   }

/* quiz controls */
.spirit-container .sp-controls {
  display: flex; align-items: center; gap: 12px; margin-top: 16px; margin-bottom: 0; padding-bottom: 4px; flex-wrap: wrap;
}
.spirit-container .sp-btn--ghost {
  appearance: none; background: #fff; color: #333; border: 2px solid #ddd;
  border-radius: 8px; padding: 10px 14px; font-weight: 800; cursor: pointer;
}
.spirit-container .sp-score { margin-left: auto; font-weight: 800; }

/* ===== responsive guards ===== */
@media (max-width: 1400px) {
  .spirit-container .sp-row {
    grid-template-columns: 16px minmax(150px,220px) 52px minmax(320px,520px);
  }
  .spirit-container .sp-bubble {
    width: clamp(170px, 17vw, 220px);
    height: clamp(170px, 17vw, 220px);
  }
}

@media (max-width: 980px) {
  .spirit-container .sp-header { grid-template-columns: 1fr; min-height: auto; }
  .spirit-container .sp-left { height: 240px; }
  .spirit-container .sp-purpose { top: 78px; }
  .spirit-container .sp-values { grid-template-columns: 1fr 1fr; }
}

@media (max-width: 560px) {
  .spirit-container .sp-values { grid-template-columns: 1fr; }
}
